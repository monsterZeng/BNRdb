{% extends 'base.html'%}
<!--继承页面-->
<!--将预留区域填充-->

{% block title %} {{title}} {% endblock title%} {% block main %}
<style>
     .amap-icon img,
        .amap-marker-content img{
            width: 25px;
            height: 34px;
        }
    .info{
        position: relative;
        top: 0;
        right: 0;
        min-width: 0;
        border-radius: 25px;
    }
    .info :hover{
        opacity:0.4;

    }
    #info{
        border-radius: 25px;
    }
</style>
<div class="container">
    <h2>CONTACT US</h2>
    <hr style="height:1px ;background-color:slategray" />
    <div class="row">
        <div class="col-sm-3"></div>
        <div class="col-sm-9">
            <h5>Interested in working with us or have queries to do with the DenitrificationDb?</h5>
        </div>
    </div>
    <form action="{% url 'denitrifications_app:contact' %}" method="get">
        <div class="row">
            <div class="col-sm-3"></div>
            <div class="col-sm-3">
                
                <p>Zhang Lab @ HUST</p>
                <p>1037 Luoyu Rd, Hongshan, Wuhan, Hubei, China, 430074</p>
                <a href="http://genome-mining.cn/home">http://genome-mining.cn/home</a>
                <p>_____</p>
                <a href="mailto:hjzhang@hust.edu.cn"><img src="/static/imag/emailicon.png" / style="width:45px;height: 45px;"></a>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="Name" style="font-size: 15px;">Enter Your Name*</label>
                    <input type="text" class="form-control" name="Name" id="Name" placeholder="">
                </div>
                <div class="form-group">
                    <label for="Email" style="font-size: 15px;">Enter Your Email*</label>
                    <input type=" text " class="form-control " name="Email" id="Email" placeholder=" ">
                </div>
                <div class="form-group ">
                    <label for="Subject " style="font-size: 15px; ">Enter Your Subject</label>
                    <input type="text " class="form-control " name="Subject" id="Subject" placeholder=" ">
                </div>
            </div>
            <div class="col-sm-3 ">
                <div class="form-group ">
                    <label for="Message " style="font-size: 19px;">Enter Your Message</label>
                    <textarea class="form-control " rows="8 " id="Message" name="Message"></textarea>
                </div>
                <div class="pagination justify-content-end">
                    <button class="btn btn-outline-secondary " type="submit ">Submit</button></div>
            </div>
    </form>
    
    <div class="container">
        <div class = "row">
            <div class = "col-sm-3"></div>
            <div class = "col-sm-9">
                <br />
                <div id="Map" style="width:100%;height:380px;"></div>
            </div>
        </div>
    </div>
    </div>
    <script>
        $(document).ready(function() {
            $("button").click(function() {
                var email = $("#Email").val();
                var name = $("#Name").val();
                if (judgeVaildEmail(email) != true || name.length == 0) {
                    if (judgeVaildEmail(email) != true) {
                        alert("Please enter a valid email")
                    } else {
                        alert("Please enter your name")
                    }
                } else {
                    alert("Submited successfully!")
                }

                function judgeVaildEmail(email) {
                    var atpos = email.indexOf("@");
                    var dotpos = email.lastIndexOf(".");
                    if (atpos < 1 || dotpos < atpos + 2 || dotpos + 2 >= email.length) {
                        return false;
                    } else {
                        return true
                    }
                }
            });
            var map = new AMap.Map('Map', {
                zoom:11,//级别
                center: [114.432854, 30.511015],//中心点坐标
                viewMode:'3D',//使用3D视图
                lang:'en',
                resizeEnable: true,
            });

            marker = new AMap.Marker({
                icon: "//a.amap.com/jsapi_demos/static/demo-center/icons/poi-marker-default.png",
                position: [114.432854, 30.511015],
                offset: new AMap.Pixel(-13, -30)
            });

            // 设置label标签
            // label默认蓝框白底左上角显示，样式className为：amap-marker-label
            marker.setLabel({
                offset: new AMap.Pixel(20, 20),  //设置文本标注偏移量
                content: "<div class='info'><p id='info1'><b>Huazhong University of Science and Technology</b></p><p>Faculty of Life Science</p></div>", //设置文本标注内容
                direction: 'right' //设置文本标注方位
            });
            marker.setTitle('我是marker的title');
            marker.setMap(map);
        });
    </script>
    </script>
</div>


{% endblock main%}